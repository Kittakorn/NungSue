@model BookDetailViewModel

@{
    ViewData["Title"] = Model.Title;
}
<div style="padding:0px 200px">
    <div class="row">
        <div class="col-lg-4">
            <img src="@Model.BookImage" class="img-thumbnail float-end" />
        </div>
        <div class="col-lg-8 position-relative">
            <h4>@Model.Title</h4>
            <p class="text-muted fs-6">@Model.Description</p>
            <b class="fs-6">
                ผู้เขียน
                @foreach (var item in Model.Authors)
                {
                    <a href="#" class="text-decoration-none">@item</a>
                }
            </b>
            <div class="d-flex mt-3 gap-2">
                <button onclick="javascript:open('https://social-plugins.line.me/lineit/share?url='+window.location.href, 'popup-example', 'location=0,width=750,height=650,left=500,top=55,resize=no')" type="button" value="@Model.BookId" class="d-flex align-items-end rounded rounded-3 pe-2 p-1 text-white btn border border-2 btn-sm" style="background-color:rgb(0, 195, 0);">
                    <svg class="me-2"
                         xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                         width="25" height="25"
                         viewBox="0 0 45 45"
                         style=" fill:#000000;">
                        <path fill="#00c300" d="M12.5,42h23c3.59,0,6.5-2.91,6.5-6.5v-23C42,8.91,39.09,6,35.5,6h-23C8.91,6,6,8.91,6,12.5v23C6,39.09,8.91,42,12.5,42z"></path>
                        <path fill="#fff" d="M37.113,22.417c0-5.865-5.88-10.637-13.107-10.637s-13.108,4.772-13.108,10.637c0,5.258,4.663,9.662,10.962,10.495c0.427,0.092,1.008,0.282,1.155,0.646c0.132,0.331,0.086,0.85,0.042,1.185c0,0-0.153,0.925-0.187,1.122c-0.057,0.331-0.263,1.296,1.135,0.707c1.399-0.589,7.548-4.445,10.298-7.611h-0.001C36.203,26.879,37.113,24.764,37.113,22.417z M18.875,25.907h-2.604c-0.379,0-0.687-0.308-0.687-0.688V20.01c0-0.379,0.308-0.687,0.687-0.687c0.379,0,0.687,0.308,0.687,0.687v4.521h1.917c0.379,0,0.687,0.308,0.687,0.687C19.562,25.598,19.254,25.907,18.875,25.907z M21.568,25.219c0,0.379-0.308,0.688-0.687,0.688s-0.687-0.308-0.687-0.688V20.01c0-0.379,0.308-0.687,0.687-0.687s0.687,0.308,0.687,0.687V25.219z M27.838,25.219c0,0.297-0.188,0.559-0.47,0.652c-0.071,0.024-0.145,0.036-0.218,0.036c-0.215,0-0.42-0.103-0.549-0.275l-2.669-3.635v3.222c0,0.379-0.308,0.688-0.688,0.688c-0.379,0-0.688-0.308-0.688-0.688V20.01c0-0.296,0.189-0.558,0.47-0.652c0.071-0.024,0.144-0.035,0.218-0.035c0.214,0,0.42,0.103,0.549,0.275l2.67,3.635V20.01c0-0.379,0.309-0.687,0.688-0.687c0.379,0,0.687,0.308,0.687,0.687V25.219z M32.052,21.927c0.379,0,0.688,0.308,0.688,0.688c0,0.379-0.308,0.687-0.688,0.687h-1.917v1.23h1.917c0.379,0,0.688,0.308,0.688,0.687c0,0.379-0.309,0.688-0.688,0.688h-2.604c-0.378,0-0.687-0.308-0.687-0.688v-2.603c0-0.001,0-0.001,0-0.001c0,0,0-0.001,0-0.001v-2.601c0-0.001,0-0.001,0-0.002c0-0.379,0.308-0.687,0.687-0.687h2.604c0.379,0,0.688,0.308,0.688,0.687s-0.308,0.687-0.688,0.687h-1.917v1.23H32.052z"></path>
                    </svg>
                    <span class="fs-6">Share</span>
                </button>
                <button onclick="javascript:open('https://twitter.com/share?url='+window.location.href, 'popup-example', 'location=0,width=750,height=650,left=500,top=55,resize=no')" type="button" value="@Model.BookId" class="d-flex align-items-end rounded rounded-3 pe-2 p-1 text-white btn border border-2 btn-sm" style="background-color:#1d9bf0; ">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                         width="25" height="25"
                         viewBox="0 0 172 172"
                         style=" fill:#000000;">
                        <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M150.5,44.53725c-4.74075,2.09983 -9.83983,3.50092 -15.21842,4.16383c5.46817,-3.2465 9.675,-8.42442 11.64942,-14.54117c-5.117,2.99925 -10.78583,5.203 -16.81658,6.364c-4.816,-5.10625 -11.68525,-8.27392 -19.29625,-8.27392c-14.62,0 -26.47008,11.74617 -26.47008,26.23c0,2.04967 0.24008,4.04558 0.69158,5.98417c-21.9945,-1.10367 -41.50217,-11.55983 -54.55267,-27.42683c-2.29333,3.87717 -3.58333,8.41725 -3.58333,13.20817c0,9.10525 4.66192,17.12117 11.77125,21.844c-4.33942,-0.13258 -8.42442,-1.34017 -12.00058,-3.27517c0,0.07883 0,0.19708 0,0.30817c0,12.72442 9.12675,23.32033 21.22408,25.73192c-2.21092,0.60558 -4.54725,0.94242 -6.95525,0.94242c-1.70925,0 -3.3755,-0.1935 -4.988,-0.48375c3.36833,10.39883 13.14008,17.99908 24.71783,18.22483c-9.05867,7.02333 -20.468,11.23017 -32.8735,11.23017c-2.14283,0 -4.23908,-0.12183 -6.31025,-0.37267c11.72108,7.42108 25.63875,11.77125 40.57767,11.77125c48.67958,0 75.31092,-39.97567 75.31092,-74.65517c0,-1.13592 -0.03583,-2.26825 -0.08958,-3.38625c5.19583,-3.66933 9.675,-8.299 13.21175,-13.588"></path></g></g>
                    </svg>
                    <span class="fs-6"> Tweet</span>
                </button>
                <button onclick="javascript:open('https://www.facebook.com/sharer/sharer.php?u='+window.location.href, 'popup-example', 'location=0,width=750,height=650,left=500,top=55,resize=no')" value="@Model.BookId" class="d-flex align-items-end rounded rounded-3 pe-2 p-1 text-white btn border border-2 btn-sm " style="background-color:#039BE5; ">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"
                         width="25" height="25"
                         viewBox="0 0 172 172"
                         style=" fill:#000000;">
                        <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g><path d="M86,17.91667c-37.60139,0 -68.08333,30.48195 -68.08333,68.08333c0,37.60139 30.48195,68.08333 68.08333,68.08333c37.60139,0 68.08333,-30.48195 68.08333,-68.08333c0,-37.60139 -30.48195,-68.08333 -68.08333,-68.08333z" fill="#039be5"></path><path d="M95.21633,104.04567h17.61925l2.76633,-17.89875h-20.38917v-9.7825c0,-7.43542 2.4295,-14.02875 9.38475,-14.02875h11.17642v-15.61975c-1.96367,-0.26517 -6.11675,-0.84567 -13.96425,-0.84567c-16.38658,0 -25.9935,8.65375 -25.9935,28.36925v11.90742h-16.84525v17.89875h16.84525v49.19558c3.33608,0.50167 6.71517,0.84208 10.18383,0.84208c3.13542,0 6.19558,-0.28667 9.21633,-0.69517z" fill="#ffffff"></path></g></g>
                    </svg>
                    <span class="fs-6">Share</span>
                </button>
            </div>
            <button type="button" onclick="UpdateFavorite(this,false)" value="@Model.BookId" class="me-3 position-absolute top-0 end-0 fa-solid fa-heart @(Model.IsFavorite?"text-danger":"text-muted") fa-2xl"></button>
            @if (Model.NewPrice != null)
            {
                <span class="position-absolute fs-5 bottom-0 start-0 text-danger">* @Model.PromotionText</span>
            }
            <div class="position-absolute end-0 bottom-0" style="margin-right:165px">
                @if (Model.NewPrice == null)
                {
                    <span class="text-danger fs-3">@Model.Price บาท</span>
                }
                else
                {
                    <del class="text-muted fs-5">@Model.Price บาท</del>
                    <span class="text-danger fs-3"> @Model.NewPrice บาท</span>
                }
            </div>
            <button class="btn btn-primary position-absolute end-0 bottom-0 mb-2 me-3 " onclick="AddBookToCart(this)" value="@Model.BookId" type="button"><i class="fa-solid fa-cart-shopping"></i> หยิบใส่ตะกร้า</button>
        </div>
        <div class="col-12 mt-2">
            <div class="mb-2">
                หมวดหมู่ : <a href="/category/@Model.Category.Replace(" ","-")" class="bg-secondary bg-opacity-25 p-1 rounded rounded-2 text-black text-opacity-50 text-decoration-none">@Model.Category</a>
            </div>
            &ensp;&ensp;&ensp; แท็ก :
            @foreach (var item in Model.Tags)
            {
                <a href="/tag/@item.Replace(" ","-")" class="bg-secondary bg-opacity-25 p-1 rounded rounded-2 text-black text-opacity-50 text-decoration-none">@item</a>
            }
        </div>
        <div class="col-12 mt-2">

            <div class="w-100 fs-5 bg-secondary text-white bg-opacity-75 p-1 ps-3 rounded rounded-2 mb-2">
                เนื้อหาพอสังเขป
            </div>
            <pre class="fs-6 px-3" style="white-space: pre-wrap">&ensp;&ensp;&ensp;@Model.Content</pre>
        </div>
        @if (!string.IsNullOrEmpty(Model.ListOfContents))
        {
            <div class="col-12 mt-2">
                <div class="w-100 fs-5 bg-secondary text-white bg-opacity-75 p-1 ps-3 rounded rounded-2 mb-2">
                    สารบัญ
                </div>
                <pre class="fs-6 px-3" style="white-space: pre-wrap">@Model.ListOfContents</pre>
            </div>
        }
        <div class="col-12 mt-2">

            <div class="w-100 fs-5 bg-secondary text-white bg-opacity-75 p-1 ps-3 rounded rounded-2 mb-2">
                รายละเอียดหนังสือ
            </div>
            <table class="table table-borderless table-sm">
                <thead>
                    <tr>
                        <th width="150"></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ISBN</td>
                        <td>: @Model.Barcode</td>
                    </tr>
                    <tr>
                        <td>ขนาด</td>
                        <td>: @Model.Size มม.</td>
                    </tr>
                    <tr>
                        <td>น้ำหนัก</td>
                        <td>: @Model.Weight กรัม</td>
                    </tr>
                    <tr>
                        <td>สำนักพิมพ์</td>
                        <td>: @Model.Publisher</td>
                    </tr>
                    <tr>
                        <td>เดือนปีที่พิมพ์</td>
                        <td>: @Model.MonthOfPublication</td>
                    </tr>
                    @if (Model.IsPublish)
                    {
                        <tr>
                            <td>วันที่จำหน่าย</td>
                            <td>: @Model.PublishedOn น.</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>